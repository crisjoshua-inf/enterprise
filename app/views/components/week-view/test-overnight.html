<div class="full-height full-width">
  <div id="week-view" class="week-view" data-init="false"></div>
</div>

<script>
  $('body').one('initialized', function () {
    // Get the Event Type and Events to show in the calendar
    var eventTypes = [];
    var events = [];

    $.getJSON('{{basepath}}api/event-types', function(res) {
    eventTypes = res;

    $.getJSON('{{basepath}}api/events', function(res) {
      events = res;

      events.push(  {
        "id": "77",
        "subject": "Holiday Overnight Trip",
        "shortSubject": "Holiday Trip",
        "icon": "icon-clock",
        "comments": "Short getaway",
        "location": "Us Office",
        "status": "Draft",
        "starts": "2019-10-22T22:00:00.000",
        "ends": "2019-10-23T08:00:00.000",
        "type": "holiday",
        "isAllDay": "false"
      });

      const opts = {
        hideToolbar: false,
        borderless: true,
        eventTypes: eventTypes,
        events: events,
        showViewChanger: false,
        showFooter: false,
        startHour: 7,
        endHour: 24,
        startDate: new Date(2019, 9, 20),
        endDate: new Date(2019, 9, 26, 23, 59, 59, 59),
        responsive: false,
        stacked: false,
        attributes: [
          { name: 'id', value: 'custom-id' },
          { name: 'data-automation-id', value: 'custom-automation-id' }
        ]
      }

      $('#week-view').weekview({...opts});
    });
  });
});
</script>